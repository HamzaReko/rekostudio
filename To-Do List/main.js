const upload=document.querySelector(".upload"),menu=document.querySelector(".menu"),form=document.querySelector("form"),input=document.querySelector("input"),text=document.querySelector("p");let task={title:"title",Done:!1,fav:!1},tasks=[{title:"Follow @rekostudio at insta ;-;",Done:!1,fav:!0},{title:"Follow @HamzaReko at github ;-;",Done:!1,fav:!0}];const getTasks=()=>{let e=JSON.parse(localStorage.getItem("tasks"));switch(e){case null:tasks=[{title:"Follow @rekostudio at insta ;-;",Done:!1,fav:!0},{title:"Follow @HamzaReko at github ;-;",Done:!1,fav:!0}];break;default:tasks=e;break}};getTasks();let addTasks=()=>{menu.innerHTML="";let e=0;for(task of tasks){let s=`\n                          <div class="task">\n                            <span onclick="fav(${e})" class="icon-star hove icon fav${e}"></span>\n                            <p class="start">${task.title}</p>\n                            <div class="icons">\n                              <span onclick="deleteTask(${e})" class="icon-trash icon"></span>\n                              <span onclick="finish(${e})" class="icon-angry2 icon task${e}"></span>\n                            </div>\n                          </div>\n                      `;menu.innerHTML+=s,e++}};addTasks();let sync=()=>{tasks.forEach((e=>{let s=document.querySelector(`.task${tasks.indexOf(e)}`),a=document.querySelector(`.fav${tasks.indexOf(e)}`);switch(e.Done){case!0:switch(s.className){case`icon-heart icon task${tasks.indexOf(e)}`:case`icon task${tasks.indexOf(e)} icon-angry2`:case`icon-angry2 icon task${tasks.indexOf(e)}`:s.classList.remove("icon-angry2"),s.classList.add("icon-heart"),s.parentElement.parentElement.getElementsByClassName("start")[0].classList.add("finish");break}break}switch(e.fav){case!0:switch(a.className){case`icon-star hove icon fav${tasks.indexOf(e)}`:case`icon-star icon fav${tasks.indexOf(e)} hove`:a.classList.add("orange"),a.classList.remove("hove"),menu.prepend(a.parentElement);break}break}}))};function deleteTask(e){tasks.splice(e,1),Store(),addTasks(),sync()}function finish(e){let s=document.querySelector(`.task${e}`);if(1==tasks[e].Done)switch(tasks[e].Done=!1,Store(),s.className){case`icon task${e} icon-heart`:s.classList.add("icon-angry2"),s.classList.remove("icon-heart"),s.parentElement.parentElement.getElementsByClassName("start")[0].classList.remove("finish");break}else switch(tasks[e].Done=!0,Store(),s.className){case`icon-heart icon task${e}`:case`icon task${e} icon-angry2`:case`icon-angry2 icon task${e}`:s.classList.remove("icon-angry2"),s.classList.add("icon-heart"),s.parentElement.parentElement.getElementsByClassName("start")[0].classList.add("finish");break}}function fav(e){let s=document.querySelector(`.fav${e}`);if(1==tasks[e].fav)switch(tasks[e].fav=!1,Store(),s.className){case`icon-star icon fav${e} orange`:s.classList.remove("orange"),s.classList.add("hove"),menu.append(s.parentElement);break}else switch(tasks[e].fav=!0,Store(),s.className){case`icon-star hove icon fav${e}`:case`icon-star icon fav${e} hove`:s.classList.add("orange"),s.classList.remove("hove"),menu.prepend(s.parentElement);break}}sync(),form.addEventListener("submit",(e=>{e.preventDefault();let s={title:input.value,Done:!1,fav:!1};tasks.push(s),Store(),addTasks(),sync(),input.value=""}));const Store=()=>{let e=JSON.stringify(tasks);localStorage.setItem("tasks",e)};